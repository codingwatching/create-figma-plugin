import{y as a}from"./preact.module-Cko36Lti.js";import{c as A,F as X,p as Y,x as o}from"./create-component-B1Y1oDBF.js";import{c as $}from"./create-class-name-irFPZBOU.js";import{g as j}from"./get-current-from-ref-J2nPd355.js";import{n as s}from"./no-op-DX6rZLP_.js";import{i as q}from"./is-keycode-character-generating-C88G8DHI.js";import{M as d}from"./mixed-values-hkF2bnrF.js";const z="_textboxMultiline_1b7l0_1",H="_grow_1b7l0_6",J="_ghost_1b7l0_10",K="_textarea_1b7l0_11",L="_disabled_1b7l0_32",Q="_border_1b7l0_40",U="_hasBorder_1b7l0_50",W="_underline_1b7l0_60",r={textboxMultiline:z,grow:H,ghost:J,textarea:K,disabled:L,border:Q,hasBorder:U,underline:W},f="",ot=A(function({grow:x=!1,disabled:p=!1,onBlur:g=s,onFocus:m=s,onInput:h=s,onKeyDown:M=s,onValueInput:T=s,onMouseDown:y=s,placeholder:k,propagateEscapeKeyDown:w=!0,revertOnEscapeKeyDown:C=!1,rows:I=3,spellCheck:R=!1,validateOnBlur:b,variant:_,value:e,...B},l){const E=X(null),[i,c]=Y(f),u=o(function(t){const n=j(E);n.value=t;const S=new window.Event("input",{bubbles:!0,cancelable:!0});n.dispatchEvent(S)},[]),D=o(function(t){if(g(t),typeof b<"u"){const n=b(e);if(typeof n=="string"){u(n),c(f);return}if(n===!1){e!==i&&u(i),c(f);return}}c(f)},[g,i,u,b,e]),F=o(function(t){m(t),c(e),t.currentTarget.select()},[m,e]),G=o(function(t){h(t);const n=t.currentTarget.value;T(n)},[h,T]),N=o(function(t){if(M(t),t.key==="Escape"){C===!0&&(u(i),c(f)),w===!1&&t.stopPropagation(),t.currentTarget.blur();return}e===d&&q(t.keyCode)===!1&&(t.preventDefault(),t.currentTarget.select())},[M,i,w,C,u,e]),V=o(function(t){y(t),e===d&&(t.preventDefault(),t.currentTarget.select())},[y,e]),P=o(function(t){if(E.current=t,l!==null){if(typeof l=="function"){l(t);return}l.current=t}},[l]);return a("div",{class:$([r.textboxMultiline,typeof _>"u"?null:_==="border"?r.hasBorder:null,x===!0?r.grow:null,p===!0?r.disabled:null])},x===!0?a("div",{class:r.ghost},e===d?"Mixed":`${e} `):null,a("textarea",{...B,ref:P,class:r.textarea,disabled:p===!0,onBlur:D,onFocus:F,onInput:G,onKeyDown:N,onMouseDown:V,placeholder:k,rows:I,spellcheck:R,tabIndex:0,value:e===d?"Mixed":e}),a("div",{class:r.border}),_==="underline"?a("div",{class:r.underline}):null)});export{ot as T};
