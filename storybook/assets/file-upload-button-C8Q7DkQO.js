import{_ as o}from"./preact.module-7_OotSvk.js";import{c as T,q as s}from"./create-component-CR2aSVXZ.js";import{c as k}from"./create-class-name-irFPZBOU.js";import{n as r}from"./no-op-DX6rZLP_.js";import{b as n}from"./button.module-CaU2unFW.js";import{L as B}from"./loading-indicator-BaDWtmsV.js";import{f as D}from"./file-comparator-BUjrH4N4.js";const U="_input_jvo9b_1",q="_disabled_jvo9b_13",A="_secondary_jvo9b_23",i={input:U,default:"_default_jvo9b_13",disabled:q,secondary:A},G=T(function({acceptedFileTypes:e=[],children:y,disabled:l=!1,fullWidth:g=!1,loading:a=!1,multiple:j=!1,onChange:u=r,onClick:c=r,onKeyDown:f=r,onMouseDown:d=r,onSelectedFiles:p=r,propagateEscapeKeyDown:m=!0,secondary:b=!1,...C},v){const I=s(function(t){u(t);const _=t.currentTarget.files;if(_===null)throw new Error("`event.currentTarget.files` is `null`");const h=E(_);h.length>0&&p(h)},[u,p]),L=s(function(t){c(t),a===!0&&t.preventDefault()},[c,a]),w=s(function(t){d(t),t.currentTarget.focus()},[d]),x=s(function(t){f(t),t.key==="Escape"&&(m===!1&&t.stopPropagation(),t.currentTarget.blur())},[f,m]);return o("div",{class:k([n.button,b===!0?n.secondary:n.default,b===!0?i.secondary:i.default,g===!0?n.fullWidth:null,l===!0?n.disabled:null,l===!0?i.disabled:null,a===!0?n.loading:null])},o("input",{...C,ref:v,accept:e.length===0?void 0:e.join(","),class:i.input,disabled:l===!0,multiple:j,onChange:I,onClick:L,onKeyDown:x,onMouseDown:w,tabIndex:0,title:"",type:"file"}),o("button",{disabled:l===!0,tabIndex:-1},o("div",{class:n.children},y)),a===!0?o("div",{class:n.loadingIndicator},o(B,null)):null)});function E(e){return Array.prototype.slice.call(e).sort(D)}export{G as F};
