import{y as e}from"./preact.module-Cko36Lti.js";import{c as O,p as T,x as o}from"./create-component-B1Y1oDBF.js";import{c as j}from"./create-class-name-irFPZBOU.js";import{n}from"./no-op-DX6rZLP_.js";import{f as k}from"./file-comparator-BUjrH4N4.js";const B="_fileUploadDropzone_111vt_1",N="_isDropActive_111vt_8",P="_input_111vt_12",q="_border_111vt_13",G="_children_111vt_38",i={fileUploadDropzone:B,isDropActive:N,input:P,border:q,children:G},R=O(function({acceptedFileTypes:t=[],children:d,multiple:a=!1,onBlur:s=n,onChange:f=n,onDragEnd:D=n,onDragEnter:h=n,onDragOver:_=n,onDrop:m=n,onKeyDown:v=n,onSelectedFiles:c=n,propagateEscapeKeyDown:g=!0,...b},z){const[U,u]=T(!1),w=o(function(r){s(r),u(!1)},[s]),x=o(function(r){f(r);const p=r.currentTarget.files;if(p===null)throw new Error("`event.currentTarget.files` is `null`");const l=A({acceptedFileTypes:t,fileList:p});l.length>0&&c(l)},[t,f,c]),C=o(function(r){h(r),r.preventDefault()},[h]),E=o(function(r){_(r),r.preventDefault(),u(!0)},[_]),L=o(function(r){D(r),r.preventDefault(),u(!1)},[D]),y=o(function(r){if(m(r),r.dataTransfer===null)throw new Error("`event.dataTransfer` is `null`");r.preventDefault();const p=r.dataTransfer.files,l=A({acceptedFileTypes:t,fileList:p});l.length>0&&c(l),u(!1)},[t,m,c]),I=o(function(r){v(r),r.key==="Escape"&&(g===!1&&r.stopPropagation(),r.currentTarget.blur())},[v,g]);return e("div",{class:j([i.fileUploadDropzone,U===!0?i.isDropActive:null])},e("input",{...b,ref:z,accept:t.length===0?void 0:t.join(","),class:i.input,multiple:a,onBlur:w,onChange:x,onDragEnd:L,onDragEnter:C,onDragOver:E,onDrop:y,onKeyDown:I,tabIndex:0,title:"",type:"file"}),e("div",{class:i.fill}),e("div",{class:i.border}),e("div",{class:i.children},d))});function A(t){const{fileList:d,acceptedFileTypes:a}=t,s=Array.prototype.slice.call(d).sort(k);return a.length===0?s:s.filter(function(f){return a.indexOf(f.type)!==-1})}export{R as F};
