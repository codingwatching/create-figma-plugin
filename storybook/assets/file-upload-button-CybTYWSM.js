import{_ as r}from"./preact.module-DSfP8QVG.js";import{c as T,q as s}from"./create-component-BQOTiC4n.js";import{c as B}from"./create-class-name-irFPZBOU.js";import{n as o}from"./no-op-DX6rZLP_.js";import{b as n}from"./button.module-BCbZvLPP.js";import{L as D}from"./loading-indicator-Bc4ynZTd.js";import{f as U}from"./file-comparator-BUjrH4N4.js";const q="_input_1hjkt_1",A="_disabled_1hjkt_11",E="_secondary_1hjkt_15",i={input:q,default:"_default_1hjkt_11",disabled:A,secondary:E},G=T(function({acceptedFileTypes:e=[],children:y,disabled:l=!1,fullWidth:g=!1,loading:a=!1,multiple:k=!1,onChange:u=o,onClick:c=o,onKeyDown:f=o,onMouseDown:d=o,onSelectedFiles:p=o,propagateEscapeKeyDown:m=!0,secondary:h=!1,...j},C){const I=s(function(t){u(t);const _=t.currentTarget.files;if(_===null)throw new Error("`event.currentTarget.files` is `null`");const b=F(_);b.length>0&&p(b)},[u,p]),L=s(function(t){c(t),a===!0&&t.preventDefault()},[c,a]),w=s(function(t){d(t),t.currentTarget.focus()},[d]),x=s(function(t){f(t),t.key==="Escape"&&(m===!1&&t.stopPropagation(),t.currentTarget.blur())},[f,m]);return r("div",{class:B([n.button,h===!0?n.secondary:n.default,h===!0?i.secondary:i.default,g===!0?n.fullWidth:null,l===!0?n.disabled:null,l===!0?i.disabled:null,a===!0?n.loading:null])},a===!0?r("div",{class:n.loadingIndicator},r(D,null)):null,r("input",{...j,ref:C,accept:e.length===0?void 0:e.join(","),class:i.input,disabled:l===!0,multiple:k,onChange:I,onClick:L,onKeyDown:x,onMouseDown:w,tabIndex:0,title:"",type:"file"}),r("button",{disabled:l===!0,tabIndex:-1},r("div",{class:n.children},y)))});function F(e){return Array.prototype.slice.call(e).sort(U)}export{G as F};
