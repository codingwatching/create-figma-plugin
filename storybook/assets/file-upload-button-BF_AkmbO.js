import{y as r}from"./preact.module-Cko36Lti.js";import{c as T,x as s}from"./create-component-B1Y1oDBF.js";import{c as B}from"./create-class-name-irFPZBOU.js";import{n as o}from"./no-op-DX6rZLP_.js";import{b as n}from"./button.module-Ba0fKGRu.js";import{L as D}from"./loading-indicator-BElM4Qpr.js";import{f as U}from"./file-comparator-BUjrH4N4.js";const A="_input_1hjkt_1",E="_disabled_1hjkt_11",F="_secondary_1hjkt_15",i={input:A,default:"_default_1hjkt_11",disabled:E,secondary:F},G=T(function({acceptedFileTypes:e=[],children:y,disabled:l=!1,fullWidth:g=!1,loading:a=!1,multiple:k=!1,onChange:u=o,onClick:c=o,onKeyDown:f=o,onMouseDown:d=o,onSelectedFiles:p=o,propagateEscapeKeyDown:m=!0,secondary:h=!1,...j},C){const x=s(function(t){u(t);const _=t.currentTarget.files;if(_===null)throw new Error("`event.currentTarget.files` is `null`");const b=M(_);b.length>0&&p(b)},[u,p]),I=s(function(t){c(t),a===!0&&t.preventDefault()},[c,a]),L=s(function(t){d(t),t.currentTarget.focus()},[d]),w=s(function(t){f(t),t.key==="Escape"&&(m===!1&&t.stopPropagation(),t.currentTarget.blur())},[f,m]);return r("div",{class:B([n.button,h===!0?n.secondary:n.default,h===!0?i.secondary:i.default,g===!0?n.fullWidth:null,l===!0?n.disabled:null,l===!0?i.disabled:null,a===!0?n.loading:null])},a===!0?r("div",{class:n.loadingIndicator},r(D,null)):null,r("input",{...j,ref:C,accept:e.length===0?void 0:e.join(","),class:i.input,disabled:l===!0,multiple:k,onChange:x,onClick:I,onKeyDown:w,onMouseDown:L,tabIndex:0,title:"",type:"file"}),r("button",{disabled:l===!0,tabIndex:-1},r("div",{class:n.children},y)))});function M(e){return Array.prototype.slice.call(e).sort(U)}export{G as F};
